# GARAMe Manager 성능 모드 가이드

## 개요

GARAMe Manager 1.9.8에서는 시스템 사양에 맞는 3가지 성능 모드를 제공합니다.
각 모드는 AI 인식 기능의 범위와 정확도가 다르며, 시스템 사양에 따라 최적의 모드를 선택할 수 있습니다.

---

## 성능 모드 비교

| 항목 | 모드 1 (기본) | 모드 2 (표준) | 모드 3 (고급) |
|------|--------------|--------------|--------------|
| **AI 기능** | 얼굴 인식만 | 얼굴 + 안전장구 6종 | 전체 AI (얼굴 + 안전장구 + 사물 80종) |
| **예상 FPS** | 15-25 FPS | 8-15 FPS | 15-30 FPS (GPU) |
| **인식 지연** | 0.2-0.4초 | 0.3-0.5초 | 0.2-0.4초 |
| **메모리 사용** | ~500MB | ~1.5GB | ~3GB+ |
| **GPU 필수** | 아니오 | 아니오 | 예 (NVIDIA RTX 3060+) |

---

## 모드별 상세 설명

### 모드 1: 기본 모드 (저사양 PC용)

**기능:**
- 얼굴 인식/등록만 수행
- 안전장구 인식 비활성화
- 사물 인식 비활성화

**적합한 사용 환경:**
- 출입 관리만 필요한 경우
- 안전장구 착용 확인이 불필요한 환경
- 저사양 산업용 PC 환경

**AI 모델 설정:**
```
InsightFace:
  - 모델: buffalo_sc (경량 모델)
  - 감지 크기: 320x320
  - 감지 임계값: 0.4
  - 실행: CPU 전용

YOLO PPE: 비활성화
YOLO COCO: 비활성화
```

---

### 모드 2: 표준 모드 (중사양 PC용)

**기능:**
- 얼굴 인식/등록
- 안전장구 6종 인식 (헬멧, 조끼, 보안경, 장갑, 마스크, 안전화)

**적합한 사용 환경:**
- 안전장구 착용 확인이 필요한 현장
- 일반적인 사무용/산업용 PC
- GPU가 없는 환경

**AI 모델 설정:**
```
InsightFace:
  - 모델: buffalo_sc (경량 모델)
  - 감지 크기: 320x320
  - 감지 임계값: 0.4
  - 실행: CPU 전용

YOLO PPE:
  - 모델: ppe_detect.pt (6.3MB, 경량)
  - 이미지 크기: 640x640
  - 신뢰도: 0.25
  - 정밀도: FP32 (CPU 최적화)

YOLO COCO: 비활성화
```

---

### 모드 3: 고급 모드 (고사양 GPU PC용)

**기능:**
- 얼굴 인식/등록 (고정밀)
- 안전장구 6종 인식 (고정밀)
- 일반 사물 80종 인식 (동물, 차량, 가구, 전자기기 등)

**적합한 사용 환경:**
- 고정밀 인식이 필요한 환경
- 사물 인식이 필요한 스마트 팩토리
- NVIDIA GPU가 장착된 고성능 PC

**AI 모델 설정:**
```
InsightFace:
  - 모델: buffalo_l (고정밀 모델, 98.34% 정확도)
  - 감지 크기: 640x640
  - 감지 임계값: 0.35
  - 실행: GPU 가속 (CUDA)

YOLO PPE:
  - 모델: ppe_full.pt (50MB, 고정밀)
  - 이미지 크기: 1280x1280
  - 신뢰도: 0.2
  - 정밀도: FP16 (GPU 최적화)

YOLO COCO:
  - 모델: yolo11m.pt (39MB)
  - 이미지 크기: 640x640
  - 신뢰도: 0.3
  - 정밀도: FP16 (GPU 최적화)
```

---

## 권장 시스템 사양

### 모드 1: 기본 모드

| 항목 | 최소 사양 | 권장 사양 |
|------|----------|----------|
| **CPU** | Intel Celeron N5095 | Intel Core i3-10100 |
| **RAM** | 4GB | 8GB |
| **GPU** | 불필요 | 불필요 |
| **저장장치** | HDD 10GB | SSD 20GB |

**호환 CPU 예시:**
- Intel Celeron N5095, N5105
- Intel Celeron N100, N200
- Intel Core i3 (8세대 이하)
- AMD Athlon 시리즈

---

### 모드 2: 표준 모드

| 항목 | 최소 사양 | 권장 사양 |
|------|----------|----------|
| **CPU** | Intel Core i5-10400 | Intel Core i7-12700 |
| **RAM** | 8GB | 16GB |
| **GPU** | 내장 그래픽 | 내장 그래픽 또는 GTX 1650 |
| **저장장치** | SSD 20GB | SSD 50GB |

**호환 CPU 예시:**
- Intel Core i5 (10세대 이상)
- Intel Core i7 (8세대 이상)
- AMD Ryzen 5 3600 이상
- AMD Ryzen 7 시리즈

---

### 모드 3: 고급 모드

| 항목 | 최소 사양 | 권장 사양 |
|------|----------|----------|
| **CPU** | Intel Core i7-12700 | Intel Core i9-13900 |
| **RAM** | 16GB | 32GB |
| **GPU** | NVIDIA RTX 3060 (12GB) | NVIDIA RTX 4070 이상 |
| **저장장치** | SSD 50GB | NVMe SSD 100GB |

**호환 GPU 예시:**
- NVIDIA GeForce RTX 3060 (12GB VRAM)
- NVIDIA GeForce RTX 3070/3080/3090
- NVIDIA GeForce RTX 4060/4070/4080/4090

**주의:** AMD Radeon GPU는 CUDA를 지원하지 않아 모드 3에서 GPU 가속이 불가능합니다.

---

## 성능 모드 선택 가이드

### 자동 추천 시스템

GARAMe Manager 1.9.8에서는 **환경설정 > 성능 설정**에서 현재 시스템 사양을 자동 분석하여 최적의 모드를 추천합니다.

**추천 알고리즘:**
1. CPU 성능 점수 산출 (모델명 기반)
2. RAM 용량 확인
3. GPU 존재 여부 및 VRAM 용량 확인
4. 종합 점수에 따라 모드 추천

### 수동 선택 기준

| 상황 | 추천 모드 |
|------|----------|
| 출입 관리만 필요 | 모드 1 |
| 안전장구 착용 확인 필요 | 모드 2 |
| 스마트 팩토리, 고정밀 감시 | 모드 3 |
| 저가형 산업용 PC | 모드 1 |
| 일반 사무용 PC (GPU 없음) | 모드 1 또는 2 |
| 고성능 워크스테이션 (GPU 있음) | 모드 3 |

---

## 성능 최적화 팁

### 모드 1 최적화
- 카메라 해상도를 720p로 설정
- 불필요한 백그라운드 프로그램 종료

### 모드 2 최적화
- 카메라 해상도를 1080p 이하로 설정
- RAM 8GB 이상 확보
- SSD 사용 권장

### 모드 3 최적화
- NVIDIA 드라이버 최신 버전 유지
- CUDA 12.x 이상 설치
- GPU 전용 전원 공급 확인
- 시스템 냉각 확인 (GPU 온도 85°C 이하 유지)

---

## 모드 변경 방법

1. **설정 > 성능 설정** 메뉴 클릭
2. **성능 설정 (AI 인식 수준)** 섹션에서 원하는 모드 선택
3. **저장** 버튼 클릭
4. **프로그램 재시작** (모드 변경은 재시작 후 적용)

---

## 문제 해결

### 인식 속도가 느린 경우
- 현재 모드보다 낮은 모드로 변경
- 카메라 해상도 낮추기
- 백그라운드 프로그램 종료

### GPU가 인식되지 않는 경우 (모드 3)
- NVIDIA 드라이버 재설치
- CUDA Toolkit 설치 확인
- PyTorch GPU 버전 설치 확인:
  ```bash
  pip install torch torchvision --index-url https://download.pytorch.org/whl/cu121
  ```

### 메모리 부족 오류
- 더 낮은 모드로 변경
- RAM 업그레이드 고려
- 가상 메모리 크기 증가

---

## 버전 정보

- **문서 버전:** 1.0
- **적용 버전:** GARAMe Manager 1.9.8+
- **최종 수정:** 2025-12-23

---

## 관련 파일

- 설정 상수: `src/tcp_monitor/utils/helpers.py` (PERFORMANCE_MODE_SETTINGS)
- 얼굴 인식: `src/tcp_monitor/sensor/safety_detector.py`
- PPE 감지: `src/tcp_monitor/ppe/detector.py`
- 환경설정 UI: `src/tcp_monitor/ui/environment_settings.py`
