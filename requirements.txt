# ============================================
# GARAMe MANAGER 필수 패키지 (v1.9.8.4)
# ============================================
#
# 시스템 패키지 (apt로 설치 필요):
#   sudo apt install -y flameshot  # 화면 캡쳐 (GNOME Wayland 호환)
#   sudo apt install -y mpg123 ffmpeg  # TTS 음성 재생
# ============================================

# 이미지 처리 및 한글 텍스트 표시
Pillow>=10.0.0

# 그래프 및 시각화
matplotlib>=3.9.0

# NumPy (Python 버전에 따라 자동 선택)
# Python 3.11/3.12: numpy==1.26.4 (OpenCV 호환)
# Python 3.13: numpy>=2.0.0 (ml-dtypes 0.5.x 요구)
numpy>=1.26.4

# 음성 알림 (v1.9.5 개선: 자연스러운 여성 목소리)
gTTS>=2.5.0  # Google Text-to-Speech (고품질 한국어 여성 목소리)
pydub>=0.25.1  # 오디오 파일 처리 및 재생

# ============================================
# 카메라 및 이미지 처리
# ============================================
# Python 3.11/3.12: opencv-contrib-python==4.9.0.80 (NumPy 1.26.4)
# Python 3.13: opencv-contrib-python>=4.10.0 (NumPy 2.x 지원)
opencv-contrib-python>=4.9.0.80

# ============================================
# 얼굴 인식 라이브러리 (v1.9.5 업그레이드)
# ============================================
# InsightFace: 최신 얼굴 인식 (99.86% 정확도, ArcFace)
# - 실시간 얼굴 인식 및 등록
# - GPU 가속 지원 (ONNX Runtime)
# - 2D/3D 얼굴 분석

# ONNX 의존성 (버전 호환성 중요)
protobuf>=3.20.0,<5.0.0  # ONNX 호환성
ml-dtypes>=0.5.0  # ONNX float4_e2m1fn 지원 (NumPy 2.x 자동 설치)

insightface>=0.7.3
onnxruntime>=1.16.0  # InsightFace 추론 엔진 (CPU)

# ============================================
# GPU 가속 패키지 (NVIDIA GPU 감지 시 자동 설치)
# ============================================
# NVIDIA GPU가 있으면 다음 명령으로 GPU 버전 설치:
#   pip uninstall torch torchvision -y
#   pip install torch torchvision  # PyPI에서 CUDA 12.8 자동 감지
#
# 또는 특정 CUDA 버전 지정:
#   pip install torch torchvision --index-url https://download.pytorch.org/whl/cu121
#
# GPU 가속 확인:
#   python -c "import torch; print(f'CUDA: {torch.cuda.is_available()}')"
#
# Python 3.13 + CUDA 12.8 권장 조합:
#   - torch>=2.9.0 (cu128 지원)
#   - torchvision>=0.24.0
#   - onnxruntime-gpu>=1.16.0 (InsightFace GPU 가속)

# ============================================
# PyTorch (Ultralytics 의존성)
# ============================================
# 기본: CPU 버전 (GPU 사용 시 위 명령으로 재설치)
torch>=2.0.0
torchvision>=0.15.0

# 객체 감지 라이브러리 (v1.9.5 신규)
# ============================================
# Ultralytics YOLOv11: 최신 PPE 안전장구 감지
# - 안전모, 보안경, 장갑, 안전화, 조끼 감지
# - 92.7% mAP50 정확도
# - 실시간 처리 가능
ultralytics>=8.3.0  # YOLOv11 포함


# 시스템 제어 및 모니터링
psutil>=5.8.0
pynput>=1.7.6
keyboard>=0.13.5
pystray>=0.19.0

# ============================================
# Linux 시스템 패키지 (선택적)
# ============================================
# 다음 시스템 패키지는 Python 패키지가 아니므로 requirements.txt에 포함되지 않습니다.
# 하지만 Linux에서 한글 입력 조합을 지원하려면 xdotool이 필요합니다.
# 
# Ubuntu/Debian 설치:
#   sudo apt-get install xdotool
# 
# 또는 install_requirements.py 또는 install.sh 스크립트가 자동으로 설치합니다.
# 
# xdotool이 없으면:
#   - 문구 편집 화면에서 한글 입력 시 자음/모음이 조합되지 않고 순서대로 입력됩니다
#   - 가상 키보드에서 한글 입력 조합이 제대로 작동하지 않습니다
#
# ============================================


# 파일 저장 기능용 (안전교육 사진 관리)
pandas>=1.3.0
openpyxl>=3.0.0

# PDF 보고서 생성 (v1.9.7: 기록 반출 보고서)
reportlab>=4.0.0

# PDF 보고서 뷰어 (v1.9.7: 내장 PDF 뷰어)
PyMuPDF>=1.24.0

# 추가 이미지 처리 및 유틸리티
scikit-image>=0.19.0
imageio>=2.19.0

# 추가 유틸리티 및 의존성
pathlib2>=2.3.0
configparser>=5.0.0

# ============================================
# IP 카메라 및 PTZ 제어 (v1.9.8)
# ============================================
# Tapo 카메라 PTZ 제어 (C210, C211, C220 등)
pytapo>=3.0.0

# ONVIF 프로토콜 지원 (IP 카메라 스트림 URL 자동 탐색)
onvif-zeep>=0.2.12