# 특허 출원서 초안

## 발명의 명칭

**밀폐공간 및 유해위험지역 출입자를 위한 AI 기반 안전교육 이수 및 안전장구 착용 확인 시스템과 법적 증거능력 확보를 위한 무결성 검증 방법**

---

## 기술 분야

본 발명은 산업안전보건법에서 규정하는 밀폐공간 또는 유해위험지역 출입 시 요구되는 안전교육 실시, 안전장구 착용 확인, 개인 신원 확인을 자동화하고, 해당 기록의 법적 증거능력을 확보하기 위한 무결성 검증 시스템에 관한 것이다.

---

## 배경 기술

### 1. 산업안전보건법상 요구사항

산업안전보건법 제139조(밀폐공간 작업 프로그램 수립·시행 등) 및 관련 규정에 따르면:
- 밀폐공간 작업 시 작업자에 대한 안전보건교육 실시 의무
- 관리감독자의 작업 전 안전교육 실시 및 확인 의무
- 안전장구(보호구) 착용 확인 의무
- 작업자 출입 기록 관리 의무

### 2. 기존 기술의 문제점

#### 2.1 수기 기록 방식의 한계
- 사후 기록 조작 가능성
- 기록 누락 및 분실 위험
- 법적 분쟁 시 증거능력 취약
- 실제 교육 이수 여부 확인 불가

#### 2.2 기존 전자 시스템의 한계
- 단순 출입 기록만 관리
- 안전교육 이수와 안전장구 착용의 연계 부재
- 기록의 무결성 검증 수단 부재
- 사고 발생 시 증거 조작 의혹 해소 곤란

### 3. 해결하고자 하는 과제

본 발명은 다음 과제를 해결하고자 한다:
1. AI 기반 실시간 안전장구 착용 확인
2. 얼굴인식 기반 본인 확인
3. 안전교육 포스터 기반 교육 이수 확인
4. 전자서명을 통한 교육 이수 동의 확보
5. **해시값 기반 기록 무결성 검증으로 법적 증거능력 확보**

---

## 발명의 상세한 설명

### 제1 실시예: 시스템 구성

```
┌─────────────────────────────────────────────────────────────────┐
│                    안전교육 관리 시스템                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐   ┌─────────────┐   ┌─────────────┐           │
│  │ 카메라 모듈  │   │ 디스플레이  │   │ 터치 패널   │           │
│  │ (영상 입력)  │   │ (교육 출력) │   │ (서명 입력) │           │
│  └──────┬──────┘   └──────┬──────┘   └──────┬──────┘           │
│         │                 │                 │                   │
│         ▼                 ▼                 ▼                   │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                    중앙 처리 장치                         │   │
│  │  ┌───────────────────────────────────────────────────┐  │   │
│  │  │              AI 감지 엔진                          │  │   │
│  │  │  - YOLO 기반 안전장구 감지 (헬멧, 조끼, 마스크)    │  │   │
│  │  │  - InsightFace 기반 얼굴 인식 및 개인 식별        │  │   │
│  │  │  - 색상 분석 (안전장구 색상 기록)                  │  │   │
│  │  └───────────────────────────────────────────────────┘  │   │
│  │  ┌───────────────────────────────────────────────────┐  │   │
│  │  │           안전교육 관리 엔진                       │  │   │
│  │  │  - 포스터 순차 표시 및 이수 확인                   │  │   │
│  │  │  - 최소 열람 시간 강제                            │  │   │
│  │  │  - TTS 음성 안내                                  │  │   │
│  │  └───────────────────────────────────────────────────┘  │   │
│  │  ┌───────────────────────────────────────────────────┐  │   │
│  │  │           무결성 검증 엔진                         │  │   │
│  │  │  - SHA-256 해시 생성                              │  │   │
│  │  │  - 타임스탬프 기록                                │  │   │
│  │  │  - 체인 해시 연결                                 │  │   │
│  │  └───────────────────────────────────────────────────┘  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                              │                                  │
│                              ▼                                  │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                 보안 저장소                              │   │
│  │  - 교육 기록 데이터베이스                               │   │
│  │  - 해시 체인 원장                                       │   │
│  │  - 증거 파일 아카이브                                   │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 제2 실시예: 안전교육 프로세스

#### 2.1 안전교육 시작 단계

```
[프로세스 흐름도]

작업자 접근
    │
    ▼
┌─────────────────────┐
│ 1. 얼굴 감지        │ ← AI 카메라
│    (InsightFace)    │
└─────────┬───────────┘
          │
          ▼
┌─────────────────────┐
│ 2. 안전장구 감지    │ ← YOLO 모델
│  - 헬멧 착용 여부   │
│  - 조끼 착용 여부   │
│  - 마스크 착용 여부 │
│  - 장구 색상 기록   │
└─────────┬───────────┘
          │
    ┌─────┴─────┐
    │           │
    ▼           ▼
 [착용 완료]  [미착용]
    │           │
    │           ▼
    │    ┌──────────────┐
    │    │ 경고 음성 안내│
    │    │ "안전장구를   │
    │    │  착용해주세요"│
    │    └──────┬───────┘
    │           │
    │           ▼
    │      [재감지]
    │           │
    └─────┬─────┘
          │
          ▼
┌─────────────────────┐
│ 3. 개인 식별        │
│  - 등록 얼굴 매칭   │
│  - 미등록 시 신규등록│
└─────────┬───────────┘
          │
          ▼
┌─────────────────────┐
│ 4. 안전교육 시작    │
└─────────────────────┘
```

#### 2.2 안전교육 이수 단계

```
[안전교육 포스터 순차 표시]

┌─────────────────────────────────────────┐
│         안전교육 포스터 #1              │
│  ┌─────────────────────────────────┐   │
│  │                                 │   │
│  │   [밀폐공간 위험 안내 이미지]    │   │
│  │                                 │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ○ 최소 열람 시간: 5초                  │
│  ○ 현재 열람 시간: 3초                  │
│                                         │
│  [이전] [■■■□□] [다음 (비활성)]         │
│                                         │
│  ※ 다음 버튼은 최소 열람 시간 경과 후   │
│    활성화됩니다.                        │
└─────────────────────────────────────────┘

     │ (5초 경과)
     ▼

┌─────────────────────────────────────────┐
│  [이전] [■■■■■] [다음 (활성)]           │
└─────────────────────────────────────────┘

     │ (모든 포스터 열람 완료)
     ▼

┌─────────────────────────────────────────┐
│         안전교육 완료                    │
│                                         │
│  총 교육 시간: 2분 35초                  │
│  열람 포스터: 5장                        │
│                                         │
│  [서명 단계로 이동]                      │
└─────────────────────────────────────────┘
```

#### 2.3 서명 및 기록 생성 단계

```
[서명 화면]

┌─────────────────────────────────────────┐
│                                         │
│  ┌─────────────┐  ┌─────────────────┐   │
│  │             │  │ 교육 이수 확인   │   │
│  │  [실시간    │  │                 │   │
│  │   얼굴      │  │ 성명: 홍길동    │   │
│  │   촬영]     │  │ 일시: 2025-11-27│   │
│  │             │  │       09:15:32  │   │
│  │  📷        │  │                 │   │
│  └─────────────┘  │ 착용 장구:      │   │
│                   │  ✓ 헬멧 (노란색)│   │
│  ┌─────────────┐  │  ✓ 조끼 (주황색)│   │
│  │             │  │  ✓ 마스크      │   │
│  │  [서명 영역]│  │                 │   │
│  │             │  │ 교육 내용:      │   │
│  │   ✍️       │  │  밀폐공간 안전  │   │
│  │             │  │                 │   │
│  └─────────────┘  └─────────────────┘   │
│                                         │
│         [교육 완료 및 저장]              │
└─────────────────────────────────────────┘
```

### 제3 실시예: 무결성 검증 시스템 (핵심 청구항)

#### 3.1 개별 기록 해시 생성

```
[단일 교육 기록 구조]

┌─────────────────────────────────────────────────────────────┐
│                    교육 완료 기록 파일                        │
│                  (safety_record_20251127_091532.zip)        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 1. 얼굴 사진 (face_홍길동_20251127_091532.jpg)       │   │
│  │    - 촬영 시점의 얼굴 이미지                         │   │
│  │    - 안전장구 착용 상태 포함                         │   │
│  │    - 개별 해시: SHA256(face.jpg)                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 2. 안전교육 포스터 (education_posters.pdf)          │   │
│  │    - 열람한 모든 포스터 이미지 병합                  │   │
│  │    - 포스터별 열람 시간 메타데이터                   │   │
│  │    - 개별 해시: SHA256(posters.pdf)                  │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 3. 전자서명 (signature_홍길동_20251127_091532.png)   │   │
│  │    - 터치패널 입력 서명 이미지                       │   │
│  │    - 서명 시점 타임스탬프                           │   │
│  │    - 개별 해시: SHA256(signature.png)                │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 4. 메타데이터 (metadata.json)                       │   │
│  │    {                                                │   │
│  │      "record_id": "REC-20251127-091532-001",        │   │
│  │      "person": {                                    │   │
│  │        "name": "홍길동",                            │   │
│  │        "face_embedding_hash": "SHA256...",          │   │
│  │        "identification_confidence": 0.98            │   │
│  │      },                                             │   │
│  │      "safety_equipment": {                          │   │
│  │        "helmet": {"worn": true, "color": "yellow"}, │   │
│  │        "vest": {"worn": true, "color": "orange"},   │   │
│  │        "mask": {"worn": true}                       │   │
│  │      },                                             │   │
│  │      "education": {                                 │   │
│  │        "posters_viewed": 5,                         │   │
│  │        "total_duration_seconds": 155,               │   │
│  │        "poster_details": [                          │   │
│  │          {"id": 1, "duration": 32, "hash": "..."},  │   │
│  │          {"id": 2, "duration": 28, "hash": "..."},  │   │
│  │          ...                                        │   │
│  │        ]                                            │   │
│  │      },                                             │   │
│  │      "timestamps": {                                │   │
│  │        "education_start": "2025-11-27T09:12:57Z",   │   │
│  │        "education_end": "2025-11-27T09:15:32Z",     │   │
│  │        "signature_time": "2025-11-27T09:15:30Z",    │   │
│  │        "record_created": "2025-11-27T09:15:32Z"     │   │
│  │      },                                             │   │
│  │      "system_info": {                               │   │
│  │        "device_id": "GARAME-001",                   │   │
│  │        "software_version": "1.9.6",                 │   │
│  │        "location": "A공장 밀폐공간 입구"             │   │
│  │      }                                              │   │
│  │    }                                                │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                      무결성 검증 정보                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 5. 해시 매니페스트 (hash_manifest.json)             │   │
│  │    {                                                │   │
│  │      "files": {                                     │   │
│  │        "face.jpg": "a1b2c3d4e5f6...(SHA256)",       │   │
│  │        "posters.pdf": "f6e5d4c3b2a1...(SHA256)",    │   │
│  │        "signature.png": "1a2b3c4d5e6f...(SHA256)",  │   │
│  │        "metadata.json": "6f5e4d3c2b1a...(SHA256)"   │   │
│  │      },                                             │   │
│  │      "combined_hash": "SHA256(모든파일해시연결)",    │   │
│  │      "previous_record_hash": "이전기록해시",         │   │
│  │      "chain_hash": "SHA256(combined+previous)"      │   │
│  │    }                                                │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### 3.2 해시 체인 구조 (블록체인 유사 원리)

```
[해시 체인 연결 구조]

┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  기록 #1    │    │  기록 #2    │    │  기록 #3    │    │  기록 #4    │
│  09:15:32   │───▶│  09:23:15   │───▶│  10:05:42   │───▶│  10:18:33   │
├─────────────┤    ├─────────────┤    ├─────────────┤    ├─────────────┤
│ 홍길동      │    │ 김철수      │    │ 이영희      │    │ 박민수      │
├─────────────┤    ├─────────────┤    ├─────────────┤    ├─────────────┤
│ Combined:   │    │ Combined:   │    │ Combined:   │    │ Combined:   │
│ a1b2c3...   │    │ d4e5f6...   │    │ g7h8i9...   │    │ j0k1l2...   │
├─────────────┤    ├─────────────┤    ├─────────────┤    ├─────────────┤
│ Previous:   │    │ Previous:   │    │ Previous:   │    │ Previous:   │
│ (genesis)   │    │ CHAIN#1     │    │ CHAIN#2     │    │ CHAIN#3     │
├─────────────┤    ├─────────────┤    ├─────────────┤    ├─────────────┤
│ Chain Hash: │    │ Chain Hash: │    │ Chain Hash: │    │ Chain Hash: │
│ CHAIN#1     │    │ CHAIN#2     │    │ CHAIN#3     │    │ CHAIN#4     │
│ =SHA256(    │    │ =SHA256(    │    │ =SHA256(    │    │ =SHA256(    │
│  a1b2c3+    │    │  d4e5f6+    │    │  g7h8i9+    │    │  j0k1l2+    │
│  genesis)   │    │  CHAIN#1)   │    │  CHAIN#2)   │    │  CHAIN#3)   │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘

[검증 원리]
- 중간 기록 #2를 조작하면 → CHAIN#2 변경 → CHAIN#3, #4 모두 불일치
- 체인 전체의 무결성 검증으로 단일 기록 조작도 탐지 가능
```

#### 3.3 반출용 아카이브 생성

```
[반출 아카이브 구조]

사용자 요청: "2025년 11월 교육 기록 반출"

┌─────────────────────────────────────────────────────────────────┐
│        반출 아카이브 (export_202511_20251130_143022.zip)        │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  records/                                                       │
│  ├── safety_record_20251101_081532.zip                         │
│  ├── safety_record_20251101_092145.zip                         │
│  ├── safety_record_20251102_073312.zip                         │
│  ├── ... (해당 기간 모든 기록)                                  │
│  └── safety_record_20251130_142855.zip                         │
│                                                                 │
│  chain_verification/                                            │
│  ├── hash_chain_202511.json     (해당 월 해시 체인 전체)        │
│  ├── chain_integrity_report.txt (체인 무결성 검증 결과)         │
│  └── verification_tool.py       (검증 도구)                     │
│                                                                 │
│  summary/                                                       │
│  ├── education_summary_202511.xlsx (교육 이수 현황 요약)        │
│  └── equipment_compliance_202511.xlsx (안전장구 착용 현황)      │
│                                                                 │
│  export_manifest.json                                           │
│  │  {                                                           │
│  │    "export_id": "EXP-20251130-143022",                       │
│  │    "export_datetime": "2025-11-30T14:30:22Z",                │
│  │    "period": {"start": "2025-11-01", "end": "2025-11-30"},   │
│  │    "total_records": 847,                                     │
│  │    "exported_by": "관리자",                                  │
│  │    "purpose": "11월 정기 보관",                              │
│  │    "archive_hash": "SHA256(전체아카이브)"                    │
│  │  }                                                           │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘

[반출 시 검증 절차]
1. 모든 개별 기록 파일의 해시 재계산 및 검증
2. 해시 체인 연속성 검증
3. 최종 아카이브 해시 생성 및 별도 보관
4. 아카이브 해시를 원본 시스템 + 외부 저장소에 이중 보관
```

### 제4 실시예: 법적 증거능력 확보 메커니즘

#### 4.1 증거 조작 방지 기술

```
[증거 조작 시나리오 및 대응]

┌─────────────────────────────────────────────────────────────────┐
│ 시나리오 1: 사고 후 교육 기록 임의 작성                          │
├─────────────────────────────────────────────────────────────────┤
│ 조작 시도:                                                      │
│   - 사고 발생 후 "사전에 교육했다"는 기록을 새로 생성            │
│                                                                 │
│ 방지 메커니즘:                                                  │
│   1. 해시 체인 검증: 새 기록 삽입 시 이후 모든 체인 해시 불일치 │
│   2. 타임스탬프 연속성: 기록 간 시간 간격 분석으로 삽입 탐지    │
│   3. 시스템 로그: 기록 생성 시점의 시스템 상태 기록             │
│   4. 외부 타임스탬프: 신뢰할 수 있는 외부 시간 서버 연동        │
│                                                                 │
│ 검증 방법:                                                      │
│   - 체인 해시 재계산으로 조작 여부 즉시 판별                    │
│   - 조작된 기록은 체인에서 "고아 기록"으로 식별                 │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ 시나리오 2: 기존 교육 기록 내용 변조                             │
├─────────────────────────────────────────────────────────────────┤
│ 조작 시도:                                                      │
│   - 기존 기록의 서명 이미지나 얼굴 사진 교체                    │
│   - 메타데이터의 시간 정보 변경                                 │
│                                                                 │
│ 방지 메커니즘:                                                  │
│   1. 개별 파일 해시: 파일 내용 변경 시 해시 불일치              │
│   2. Combined 해시: 매니페스트의 해시와 실제 파일 해시 비교     │
│   3. 체인 해시: 해당 기록의 Combined 해시 변경 → 체인 전체 무효 │
│                                                                 │
│ 검증 방법:                                                      │
│   - 개별 파일 해시 재계산                                       │
│   - hash_manifest.json과 비교                                   │
│   - 불일치 시 변조된 파일 특정 가능                             │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ 시나리오 3: 교육 기록 삭제 (증거 인멸)                           │
├─────────────────────────────────────────────────────────────────┤
│ 조작 시도:                                                      │
│   - 특정 작업자의 교육 미이수 기록 삭제                         │
│                                                                 │
│ 방지 메커니즘:                                                  │
│   1. 해시 체인 연속성: 삭제된 기록의 Previous 해시 참조 단절    │
│   2. 기록 ID 연속성: 누락된 기록 ID 탐지                        │
│   3. 이중 백업: 원본 + 외부 저장소 백업 해시 비교               │
│   4. 감사 로그: 모든 삭제 시도 기록                             │
│                                                                 │
│ 검증 방법:                                                      │
│   - 체인 순회 시 "Previous 해시 미발견" 오류로 삭제 탐지        │
│   - 백업 아카이브와 현재 기록 비교로 삭제된 기록 복원 가능      │
└─────────────────────────────────────────────────────────────────┘
```

#### 4.2 법적 증거능력 확보 요건 충족

```
┌─────────────────────────────────────────────────────────────────┐
│                    증거능력 확보 요건 충족표                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│ 1. 진정성 (Authenticity)                                       │
│    ├─ 얼굴 인식: 본인 여부 99%+ 신뢰도로 확인                   │
│    ├─ 전자서명: 본인 직접 서명 행위 기록                        │
│    └─ 타임스탬프: 기록 생성 시점 명확                           │
│                                                                 │
│ 2. 무결성 (Integrity)                                          │
│    ├─ SHA-256 해시: 파일 변조 즉시 탐지                         │
│    ├─ 해시 체인: 기록 삽입/삭제 탐지                            │
│    └─ 이중 검증: 개별 해시 + 체인 해시 이중 검증                │
│                                                                 │
│ 3. 신뢰성 (Reliability)                                        │
│    ├─ 자동화: 사람 개입 최소화로 조작 기회 감소                 │
│    ├─ 시스템 로그: 모든 동작 기록                               │
│    └─ 버전 관리: 소프트웨어 버전별 동작 추적 가능               │
│                                                                 │
│ 4. 가용성 (Availability)                                       │
│    ├─ 이중 백업: 원본 + 외부 저장소                             │
│    ├─ 검증 도구 포함: 제3자도 검증 가능                         │
│    └─ 표준 포맷: JSON, ZIP 등 범용 포맷 사용                    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 청구항

### 청구항 1 (독립항 - 시스템)

밀폐공간 또는 유해위험지역 출입자에 대한 안전교육 이수 및 안전장구 착용을 확인하고 법적 증거능력을 갖춘 기록을 생성하는 시스템에 있어서,

(a) 작업자의 얼굴을 촬영하고 인공지능 기반 얼굴 인식 알고리즘을 통해 개인을 식별하는 얼굴 인식 수단;

(b) 작업자의 안전장구 착용 상태를 인공지능 기반 객체 인식 알고리즘을 통해 실시간으로 감지하고, 착용된 안전장구의 종류 및 색상을 기록하는 안전장구 감지 수단;

(c) 복수의 안전교육 콘텐츠를 순차적으로 표시하고, 각 콘텐츠에 대한 최소 열람 시간을 강제하여 교육 이수를 확인하는 안전교육 제공 수단;

(d) 작업자로부터 전자 서명을 입력받아 교육 이수 동의를 확보하는 서명 입력 수단;

(e) 상기 (a) 내지 (d)의 수단에서 생성된 데이터를 단일 기록 파일로 통합하고, 해당 기록에 대한 암호학적 해시값을 생성하는 기록 생성 수단; 및

(f) 순차적으로 생성되는 복수의 기록에 대해, 각 기록의 해시값과 직전 기록의 체인 해시값을 결합하여 새로운 체인 해시값을 생성함으로써 기록 간 연결성을 확보하고, 기록의 삽입, 삭제 또는 변조를 탐지할 수 있는 무결성 검증 수단;

을 포함하는 것을 특징으로 하는 안전교육 관리 및 증거능력 확보 시스템.

### 청구항 2 (종속항)

청구항 1에 있어서,
상기 기록 생성 수단은,
작업자의 얼굴 이미지, 안전교육 콘텐츠 이미지, 전자 서명 이미지를 포함하는 복수의 파일과,
각 파일의 개별 해시값, 작업 일시, 개인 식별 정보, 안전장구 착용 정보를 포함하는 메타데이터 파일을
하나의 압축 파일로 통합하여 생성하는 것을 특징으로 하는 안전교육 관리 및 증거능력 확보 시스템.

### 청구항 3 (종속항)

청구항 1에 있어서,
상기 무결성 검증 수단은,
기록의 반출 요청 시, 해당 기간의 모든 기록과 해시 체인 정보를 포함하는 아카이브를 생성하고,
상기 아카이브 전체에 대한 해시값을 생성하여 원본 시스템과 분리된 저장소에 이중으로 보관하는 것을 특징으로 하는 안전교육 관리 및 증거능력 확보 시스템.

### 청구항 4 (종속항)

청구항 1에 있어서,
상기 안전장구 감지 수단은,
YOLO(You Only Look Once) 계열의 객체 인식 모델을 사용하여 헬멧, 안전조끼, 보호안경, 안전화, 마스크 중 적어도 하나의 착용 여부를 감지하고,
착용된 안전장구의 색상을 HSV 색공간 분석을 통해 식별하여 기록하는 것을 특징으로 하는 안전교육 관리 및 증거능력 확보 시스템.

### 청구항 5 (종속항)

청구항 1에 있어서,
상기 얼굴 인식 수단은,
InsightFace 또는 이와 동등한 딥러닝 기반 얼굴 인식 알고리즘을 사용하여 얼굴 임베딩 벡터를 추출하고,
기 등록된 작업자 데이터베이스와 비교하여 개인을 식별하되,
미등록 작업자의 경우에도 얼굴 촬영 및 기록 생성을 허용하는 것을 특징으로 하는 안전교육 관리 및 증거능력 확보 시스템.

### 청구항 6 (독립항 - 방법)

밀폐공간 또는 유해위험지역 출입자에 대한 안전교육 기록을 생성하고 법적 증거능력을 확보하는 방법에 있어서,

(a) 카메라를 통해 작업자의 얼굴을 촬영하고 인공지능 알고리즘으로 개인을 식별하는 단계;

(b) 인공지능 객체 인식 알고리즘을 통해 작업자의 안전장구 착용 상태를 감지하고, 미착용 시 경고를 제공하는 단계;

(c) 복수의 안전교육 콘텐츠를 순차적으로 표시하고, 각 콘텐츠에 대해 설정된 최소 시간 동안 열람을 강제하는 단계;

(d) 작업자로부터 전자 서명을 입력받는 단계;

(e) 상기 (a) 내지 (d) 단계에서 수집된 얼굴 이미지, 안전교육 콘텐츠, 전자 서명, 메타데이터를 단일 기록 파일로 통합하는 단계;

(f) 상기 기록 파일에 포함된 각 파일의 해시값을 계산하고, 모든 해시값을 결합한 통합 해시값을 생성하는 단계; 및

(g) 상기 통합 해시값과 직전 기록의 체인 해시값을 결합하여 현재 기록의 체인 해시값을 생성함으로써, 기록 간 연결성을 확보하는 단계;

를 포함하는 것을 특징으로 하는 안전교육 기록 생성 및 증거능력 확보 방법.

### 청구항 7 (종속항)

청구항 6에 있어서,
상기 방법은,
기록의 반출 요청 시,
(h) 해당 기간의 모든 기록에 대해 개별 해시값과 체인 해시값의 유효성을 검증하는 단계;
(i) 검증 완료된 기록과 해시 체인 정보를 포함하는 아카이브를 생성하는 단계; 및
(j) 상기 아카이브 전체에 대한 해시값을 생성하여 원본 시스템과 분리된 위치에 보관하는 단계;
를 더 포함하는 것을 특징으로 하는 안전교육 기록 생성 및 증거능력 확보 방법.

### 청구항 8 (종속항)

청구항 6에 있어서,
상기 (g) 단계는,
이전 기록이 존재하지 않는 최초 기록의 경우 미리 정의된 제네시스(genesis) 해시값을 사용하고,
각 기록의 체인 해시값은 SHA-256 또는 이와 동등한 암호학적 해시 함수를 사용하여 생성하는 것을 특징으로 하는 안전교육 기록 생성 및 증거능력 확보 방법.

### 청구항 9 (독립항 - 검증 방법)

청구항 6의 방법에 의해 생성된 안전교육 기록의 무결성을 검증하는 방법에 있어서,

(a) 검증 대상 기록 파일 내의 각 파일에 대해 해시값을 재계산하는 단계;

(b) 상기 재계산된 해시값과 기록 내 저장된 해시 매니페스트의 해시값을 비교하여 개별 파일의 변조 여부를 판단하는 단계;

(c) 모든 개별 해시값을 결합하여 통합 해시값을 재계산하고, 기록된 통합 해시값과 비교하는 단계;

(d) 상기 재계산된 통합 해시값과 직전 기록의 체인 해시값을 결합하여 체인 해시값을 재계산하고, 기록된 체인 해시값과 비교하는 단계; 및

(e) 상기 (a) 내지 (d) 단계의 비교 결과가 모두 일치하는 경우에만 해당 기록의 무결성이 유지된 것으로 판단하는 단계;

를 포함하는 것을 특징으로 하는 안전교육 기록 무결성 검증 방법.

### 청구항 10 (종속항)

청구항 9에 있어서,
상기 검증 방법은,
복수의 연속된 기록에 대해 체인 해시값의 연속성을 검증하여,
특정 기록의 삽입, 삭제 또는 순서 변경을 탐지하는 단계를 더 포함하는 것을 특징으로 하는 안전교육 기록 무결성 검증 방법.

---

## 도면의 간단한 설명

**도 1**: 본 발명에 따른 안전교육 관리 시스템의 전체 구성도
**도 2**: 안전교육 프로세스 흐름도
**도 3**: 단일 교육 기록 파일의 구조도
**도 4**: 해시 체인 연결 구조도
**도 5**: 반출 아카이브 구조도
**도 6**: 증거 조작 탐지 메커니즘 설명도
**도 7**: 무결성 검증 프로세스 흐름도

---

## 발명의 효과

본 발명에 따르면 다음과 같은 효과를 얻을 수 있다:

1. **법적 증거능력 확보**: 해시 체인 기반 무결성 검증으로 기록의 사후 조작, 삽입, 삭제를 탐지할 수 있어 법적 분쟁 시 증거로서의 신뢰성을 확보할 수 있다.

2. **관리감독자 책임 입증**: 안전교육 실시, 안전장구 착용 확인, 개인 신원 확인이 자동으로 기록되어 관리감독자의 성실한 업무 수행을 객관적으로 입증할 수 있다.

3. **실시간 자동화**: 인공지능 기반 감지 기술을 활용하여 수기 기록의 누락이나 오류를 방지하고, 관리 업무의 효율성을 향상시킨다.

4. **산업안전보건법 준수**: 밀폐공간 작업에 대한 법적 요구사항을 체계적으로 관리하고 기록할 수 있어 법규 준수를 용이하게 한다.

5. **사고 예방**: 안전장구 미착용 시 실시간 경고를 통해 작업 전 안전 확보를 강제하여 산업재해를 예방한다.

---

## 요약서

본 발명은 밀폐공간 또는 유해위험지역 출입자를 위한 AI 기반 안전교육 이수 및 안전장구 착용 확인 시스템에 관한 것으로, 특히 법적 증거능력 확보를 위한 무결성 검증 방법을 포함한다.

본 시스템은 (1) InsightFace 기반 얼굴 인식을 통한 개인 식별, (2) YOLO 기반 객체 인식을 통한 안전장구 착용 확인, (3) 안전교육 포스터의 순차 표시 및 최소 열람 시간 강제를 통한 교육 이수 확인, (4) 전자 서명을 통한 동의 확보 기능을 제공한다.

핵심적으로, 각 교육 기록에 대해 얼굴 이미지, 교육 콘텐츠, 전자 서명을 단일 파일로 통합하고, SHA-256 해시를 사용한 해시 체인 구조를 적용하여 기록의 삽입, 삭제, 변조를 탐지할 수 있다. 이를 통해 사고 발생 시 안전교육 및 감독 업무의 성실 이행을 객관적으로 입증하고, 증거 조작 의혹을 해소할 수 있는 법적 증거능력을 확보한다.

**대표 도면**: 도 4 (해시 체인 연결 구조도)

---

## 부록: GARAMe Manager 시스템 구현 참조

본 특허의 실시예는 GARAMe Manager v1.9.6 시스템을 기반으로 하며, 다음 구성요소가 구현되어 있다:

| 청구항 요소 | 구현 파일 | 주요 기능 |
|------------|----------|----------|
| 얼굴 인식 수단 | safety_detector.py | InsightFace, get_shared_insightface_app() |
| 안전장구 감지 수단 | safety_detector.py | YOLO, get_shared_yolo_model() |
| 안전교육 제공 수단 | safety_education.py | 포스터 순차 표시, 최소 열람 시간 |
| 서명 입력 수단 | safety_signature.py | 터치 서명, 얼굴 촬영 |
| 기록 생성 수단 | (구현 예정) | 통합 ZIP 생성 |
| 무결성 검증 수단 | (구현 예정) | 해시 체인 생성/검증 |

**참고**: 기록 생성 및 무결성 검증 수단은 본 특허 출원 후 구현 예정

---

*본 문서는 특허 출원을 위한 초안으로, 실제 출원 시 변리사의 검토 및 수정이 필요합니다.*
